
# 정규표현식

정규표현식은 언제나 저를 고통스럽게 합니다.   
보고있노라면 눈을 어지럽게 하는 것은 물론이고, 특정 괄호 안에 있는지, 혹은 밖에 있는지에 따라 맥락이 완전히 달라지기도 하며, 띄어쓰기 하나에 의미가 전혀 달라질 수도 있습니다.  
심지어는 언어마다 다른점도 존재한다고 하니, 정신이 혼미해집니다.  
그래서인지 항상 정규표현식을 활용할 상황이 생길때마다 'python regex' 혹은 'java regex'를 치곤 했습니다.  
아예 모르지는 않고, "아 이거 뭐였더라" 하는 아리까리할 즈음, 확실하게 공부해서 정리하고 넘어가야겠다는 생각이 들었습니다.

시작하기에 앞서, 헷갈리지 않기 위해 다음과 같이 define 하겠습니다.

> 1. 본 글은 파이썬을 기준으로 작성되었습니다. 위에서 언급했듯이 언어별로 일부 다른점은 있을 수 있으나, 아주 간략하게 살펴본 결과 치명적인 차이점은 없었습니다. 
> 2. 코드가 아닌 본문 내 작성되는 정규표현식은 본문에서 `regex` 로 표현되고, 실제 코드상에서는 r"regex" 와 같이, r-prefix가 있는 형태로 작성됩니다. 해당 r-prefix가 어떻게 사용되는지는 다음의 [공식문서](https://docs.python.org/ko/3/howto/regex.html#the-backslash-plague)에서 살펴볼 수 있습니다.
> 3. 반대로 매칭시키고자 하는 문자열은 "string" 혹은 'string'의 형태로 표현됩니다.

# 1. 기초 문법

정규표현식은 "특정한 패턴의 문자열"을 찾아내기 위해 사용됩니다.  
아주아주 단순하게 사용한다면, 아마 find 혹은 index 메소드와 다를바가 없을겁니다.

```python
string = "hello world"
pattern = re.compile(r"hello")
pattern.search(string)
# Out : <_sre.SRE_Match object; span=(0, 5), match='hello'>
```

하지만 정규표현식에는 '메타문자' 라는 것이 존재하고, 이는 정규표현식의 알파이자 오메가라고 이야기할 수 있습니다. 메타 문자의 종류에는 다음과 같은 것들이 있습니다.

```
. ^ $ * + ? { } [ ] \ | ( )
```

이러한 메타문자가 특히 골치아픈것은, 경우에 따라(e.g. 괄호 안에 존재하는 경우) 의미가 달라지기 때문입니다. 그렇지만 반드시 모두 알아두어야 합니다. 카테고리를 조금 나누어 이야기하겠습니다.

## A. 반복을 나타내는, "수량자"

수량자는 "몇 개가 일치해야 하느냐?"를 이야기합니다.

|수량자|설명|
|:--:|:--:|
|*| 0번 이상 일치합니다.|
|+| 1번 이상 일치합니다.|
|?| 0번, 혹은 1번 일치합니다.|
|{n}|n 번 일치합니다.|
|{n,}|n번 이상 일치합니다.|
{n,m}|n번 이상, m번 이하 일치합니다|

예시를 하나 살펴보겠습니다.

문자열 "aaaabc" 가 있을 때, 연속된 a를 추출해내고 싶습니다.   
이 때, aaaa는 


`a+`를 
----
syntax
capturing - non capturing
grouping

catastrophic backtracking
https://www.regular-expressions.info/catastrophic.html
http://1004lucifer.blogspot.com/2015/04/regex.html
https://greeksharifa.github.io/%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D(re)/2018/07/20/regex-usage-01-basic/